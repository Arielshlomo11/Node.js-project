<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product</title>
    <link rel="stylesheet" href="../css/login.css" />
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="../js/init-firebase.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="card">
        <h2>Update Product</h2>
        <form>
          <input
            type="text"
            id="update-product-id"
            name="id"
            placeholder="User ID"
            required
            disabled
          />
          <input
            type="text"
            id="update-product-name"
            name="name"
            placeholder="Product Name"
            required
          />
          <input
            type="text"
            id="update-product-description"
            name="description"
            placeholder="Product Description"
            required
          />
          <input
            type="text"
            id="update-product-category"
            name="category"
            placeholder="Category"
            required
          />
          <input
            type="text"
            id="update-product-price"
            name="price"
            placeholder="Price"
            required
          />
          <input
            type="text"
            id="update-product-image"
            name="image"
            placeholder="Image"
            required
          />
          <button onclick="updateProductData(event)">Save</button>
          <a href="./dashboard.html">Back to Dashboard</a>
        </form>
      </div>
    </div>
  </body>
  <script src="../js/data-manipulation.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var productData = JSON.parse(localStorage.getItem("selectedProductData"));

      if (productData) {
        document.getElementById("update-product-id").value = productData.userId;
        document.getElementById("update-product-name").value = productData.name;
        document.getElementById("update-product-description").value =
          productData.description;
        document.getElementById("update-product-category").value =
          productData.category;
        document.getElementById("update-product-price").value =
          productData.price;
        document.getElementById("update-product-image").value =
          productData.image;
      } else {
        alert("No product data found.");
      }
    });
  </script>
</html>
